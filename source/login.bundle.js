(()=>{var s={5665:(s,n,e)=>{var i=e(9755);"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js"),i((function(s){var n="https://xm.iptp.net/xm/api",e=localStorage.getItem("sessionId"),i=localStorage.getItem("token");function t(){i&&e&&(window.location="./")}t();var a=s(".js-global"),o=s(".js-login"),d=s(".js-signup"),r=(s(".js-forget"),s(".js-requestcode")),f=(s(".js-btn-login"),s(".js-btn-signup")),l=s(".js-btn-forget"),m=(s(".js-btn-requestcode"),s(".js-btn-cancel"));setTimeout((function(){o.find('[name="email"]').val("").focus()}),200),f.on("click",(function(){a.removeClass("active"),d.addClass("active"),s(".js_register__form")[0].reset(),s(".js_register__form").find('[name="name"]').focus(),s(".js_register__form").find(".form__line_code").hide(),s(".js_register__form").find('[name="code"]').val(""),s(".mess").html("")})),l.on("click",(function(){a.removeClass("active"),r.addClass("active"),s(".js_forgot__form")[0].reset(),s(".js_forgot__form_code")[0].reset(),s(".js_forgot__form").find('[name="email"]').focus()})),m.on("click",(function(){a.removeClass("active"),o.addClass("active"),s(".js_login__form")[0].reset(),o.find('[name="email"]').val("").focus()})),console.log("token:"+i),s(document).on("submit",".js_login__form",(function(a){a.preventDefault();var o=s(this),d=o.find('[name="email"]').val(),r=o.find('[name="password"]').val();s.ajax({url:n+"/login",data:{email:d,password:r},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){o.find(".js-btn-spin").find(".--spin").show(),o.find(".js-btn-spin").attr("disabled",!0),o.find(".mess").html("")},statusCode:{200:function(s){console.log(s),localStorage.setItem("sessionId",s.data.sessionId),localStorage.setItem("token",s.data.token),i=s.data.sessionId,e=s.data.token,o.find(".mess").html(s.message),t(),o.find(".js-btn-spin").find(".--spin").hide(),o.find(".js-btn-spin").attr("disabled",!1)},401:function(s){s.responseJSON&&(s=s.responseJSON),o.find(".mess").html(s.details),o.find('[name="password"]').val("").focus(),o.find(".js-btn-spin").find(".--spin").hide(),o.find(".js-btn-spin").attr("disabled",!1)}},success:function(s){0==s.status?(localStorage.setItem("sessionId",s.data.sessionId),localStorage.setItem("token",s.data.token),i=s.data.sessionId,e=s.data.token,o.find(".mess").html(s.message),t()):(o.find(".mess").html(s.message),o.find('[name="password"]').val("").focus()),o.find(".js-btn-spin").find(".--spin").hide(),o.find(".js-btn-spin").attr("disabled",!1)},error:function(s){}})})),s(document).on("submit",".js_register__form",(function(e){e.preventDefault();var i=s(this),t=i.find('[name="email"]').val(),a=i.find('[name="name"]').val(),o=i.find('[name="password"]').val(),d=i.find('[name="password2"]').val();if(i.find(".mess").html(""),o==d){var r={email:t,name:a,password:o,password2:d},f=!1;if(i.find('[name="code"]').is(":visible")){var l=i.find('[name="code"]').val();f=!0,r.code=l,r=JSON.stringify(r)}s.ajax({url:f?n+"/register":n+"/validateemail",data:r,type:"post",dataType:"json",headers:{"Content-Type":f?"application/json":"application/x-www-form-urlencoded"},beforeSend:function(){i.find(".js-btn-spin").find(".--spin").show(),i.find(".js-btn-spin").attr("disabled",!0),i.find(".mess").html("")},statusCode:{200:function(s){f?(i.find(".mess").text(s.message),setTimeout((function(){window.location="./"}),500)):(i.find(".mess").html("Please enter code we sent to email "+t),i.find(".form__line_code").show(),i.find('[name="code"]').val("").focus()),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},400:function(s){s.responseJSON&&(s=s.responseJSON),i.find(".mess").text(s.details),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},500:function(s){s.responseJSON&&(s=s.responseJSON),f&&(i.find(".mess").text(s.message),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1))}},success:function(s){0==s.status?f?(i.find(".mess").text(s.message),setTimeout((function(){window.location="./"}),500)):(i.find(".mess").html("Please enter code we sent to email "+t),i.find(".form__line_code").show(),i.find('[name="code"]').val("").focus()):i.find(".mess").html(s.message),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},error:function(s){}})}else i.find(".mess").html("Confirm Password was wrong")})),s(document).on("submit",".js_forgot__form",(function(e){e.preventDefault();var i=s(this),t=i.find('[name="email"]').val();s.ajax({url:n+"/requestcode",data:{email:t},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){i.find(".js-btn-spin").find(".--spin").show(),i.find(".js-btn-spin").attr("disabled",!0),i.find(".mess").html("")},statusCode:{200:function(n){console.log(n),s(".reset-password1").removeClass("active"),s(".reset-password2").addClass("active"),s(".reset-password2").find('[name="email"]').val(t),s(".reset-password2").find('[name="code"]').val("").focus(),s(".reset-password2").find('[name="password"]').val(""),s(".reset-password2").find('[name="confirmpassword"]').val(""),s(".reset-password2").find(".mess").html(""),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},404:function(s){i.find(".mess").html("Please again !"),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)}},success:function(n){0==n.status?(s(".reset-password1").removeClass("active"),s(".reset-password2").addClass("active"),s(".reset-password2").find('[name="email"]').val(t),s(".reset-password2").find('[name="code"]').val("").focus(),s(".reset-password2").find('[name="password"]').val(""),s(".reset-password2").find('[name="confirmpassword"]').val(""),s(".reset-password2").find(".mess").html("")):i.find(".mess").html(n.message),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},error:function(s){}})})),s(document).on("submit",".js_forgot__form_code",(function(e){e.preventDefault();var i=s(this);i.find(".mess").html("");var t=i.find('[name="email"]').val(),a=i.find('[name="code"]').val().trim(),o=i.find('[name="password"]').val();o==i.find('[name="confirmpassword"]').val()?s.ajax({url:n+"/reset",data:{email:t,code:a,password:o},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){i.find(".js-btn-spin").find(".--spin").show(),i.find(".js-btn-spin").attr("disabled",!0),i.find(".mess").html("")},statusCode:{200:function(s){i.find(".mess").html(s.message),setTimeout((function(){window.location=location.href}),1e3),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},404:function(s){s.responseJSON&&(s=s.responseJSON),i.find(".mess").html(s.details),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)}},success:function(s){0==s.status?(i.find(".mess").html(s.message),setTimeout((function(){window.location=location.href}),1e3)):i.find(".mess").html(s.details),i.find(".js-btn-spin").find(".--spin").hide(),i.find(".js-btn-spin").attr("disabled",!1)},error:function(s){}}):i.find(".mess").html("Confirm Password was wrong")})),s(document).on("click",".js-btn-send-code",(function(e){e.preventDefault();var i=s(".js_forgot__form_code"),t=i.find('[name="email"]').val();s.ajax({url:n+"/requestcode",data:{email:t},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){i.find(".mess").html("")},statusCode:{200:function(s){i.find(".mess").html("Send Code success")}},error:function(s){}})}))}))}},n={};function e(i){if(n[i])return n[i].exports;var t=n[i]={exports:{}};return s[i].call(t.exports,t,t.exports,e),t.exports}e.m=s,e.x=s=>{},e.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n),(()=>{var s={535:0},n=[[5665,755]],i=s=>{},t=(t,a)=>{for(var o,d,[r,f,l,m]=a,c=0,p=[];c<r.length;c++)d=r[c],e.o(s,d)&&s[d]&&p.push(s[d][0]),s[d]=0;for(o in f)e.o(f,o)&&(e.m[o]=f[o]);for(l&&l(e),t&&t(a);p.length;)p.shift()();return m&&n.push.apply(n,m),i()},a=self.webpackChunkxm=self.webpackChunkxm||[];function o(){for(var i,t=0;t<n.length;t++){for(var a=n[t],o=!0,d=1;d<a.length;d++){var r=a[d];0!==s[r]&&(o=!1)}o&&(n.splice(t--,1),i=e(e.s=a[0]))}return 0===n.length&&(e.x(),e.x=s=>{}),i}a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a));var d=e.x;e.x=()=>(e.x=d||(s=>{}),(i=o)())})(),e.x()})();