(()=>{var n={15665:(n,e,s)=>{var t=s(19755);"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js"),t((function(n){s(99079),s(77424);var e=s(61433),t=s(760),i=s(30261),a=n("#change-lang-btn");t.onInit(),a.click(i.onInit);var o=localStorage.getItem("sessionId"),d=localStorage.getItem("token");function r(){d&&o&&(window.location="./")}r();var f=n(".js-global"),l=n(".js-login"),m=n(".js-signup"),c=(n(".js-forget"),n(".js-requestcode")),p=(n(".js-btn-login"),n(".js-btn-signup")),u=n(".js-btn-forget"),b=(n(".js-btn-requestcode"),n(".js-btn-cancel"));setTimeout((function(){l.find('[name="email"]').val("").focus()}),200),p.on("click",(function(){f.removeClass("active"),m.addClass("active"),n(".js_register__form")[0].reset(),n(".js_register__form").find('[name="name"]').focus(),n(".js_register__form").find(".form__line_code").hide(),n(".js_register__form").find('[name="code"]').val(""),n(".mess").html("")})),u.on("click",(function(){f.removeClass("active"),c.addClass("active"),n(".js_forgot__form")[0].reset(),n(".js_forgot__form_code")[0].reset(),n(".js_forgot__form").find('[name="email"]').focus()})),b.on("click",(function(){f.removeClass("active"),l.addClass("active"),n(".js_login__form")[0].reset(),l.find('[name="email"]').val("").focus()})),console.log("token:"+d),n(document).on("submit",".js_login__form",(function(s){s.preventDefault();var t=n(this),i=t.find('[name="email"]').val(),a=t.find('[name="password"]').val();n.ajax({url:"xm/api/login",data:{email:i,password:a},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){t.find(".js-btn-spin").find(".--spin").show(),t.find(".js-btn-spin").attr("disabled",!0),t.find(".mess").html("")},statusCode:{200:function(n){console.log(n),localStorage.setItem("sessionId",n.data.sessionId),localStorage.setItem("token",n.data.token),d=n.data.sessionId,o=n.data.token,t.find(".mess").html(n.message),r(),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},401:function(n){n.responseJSON&&(n=n.responseJSON),t.find(".mess").html('\n                    <lang data-language="INCORRECT_EMAIL_OR_PASSWORD">'.concat(e.getLangJson().INCORRECT_EMAIL_OR_PASSWORD,"</lang>\n                  ")),t.find('[name="password"]').val("").focus(),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)}},success:function(n){0==n.status?(localStorage.setItem("sessionId",n.data.sessionId),localStorage.setItem("token",n.data.token),d=n.data.sessionId,o=n.data.token,t.find(".mess").html(n.message),r()):(t.find(".mess").html(n.message),t.find('[name="password"]').val("").focus()),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},error:function(n){}})})),n(document).on("submit",".js_register__form",(function(s){s.preventDefault();var t=n(this),i=t.find('[name="email"]').val(),a=t.find('[name="name"]').val(),o=t.find('[name="password"]').val(),d=t.find('[name="password2"]').val();if(t.find(".mess").html(""),o==d){var r={email:i,name:a,password:o,password2:d},f=!1;if(t.find('[name="code"]').is(":visible")){var l=t.find('[name="code"]').val();f=!0,r.code=l,r=JSON.stringify(r)}n.ajax({url:f?"xm/api/register":"xm/api/validateemail",data:r,type:"post",dataType:"json",headers:{"Content-Type":f?"application/json":"application/x-www-form-urlencoded"},beforeSend:function(){t.find(".js-btn-spin").find(".--spin").show(),t.find(".js-btn-spin").attr("disabled",!0),t.find(".mess").html("")},statusCode:{200:function(n){f?(t.find(".mess").text(n.message),setTimeout((function(){window.location="./"}),500)):(t.find(".mess").html("Please enter code we sent to email "+i),t.find(".form__line_code").show(),t.find('[name="code"]').val("").focus()),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},400:function(n){n.responseJSON&&(n=n.responseJSON),t.find(".mess").text(n.details),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},500:function(n){n.responseJSON&&(n=n.responseJSON),f&&(t.find(".mess").text(n.message),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1))}},success:function(n){0==n.status?f?(t.find(".mess").text(n.message),setTimeout((function(){window.location="./"}),500)):(t.find(".mess").html("Please enter code we sent to email "+i),t.find(".form__line_code").show(),t.find('[name="code"]').val("").focus()):t.find(".mess").html(n.message),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},error:function(n){}})}else t.find(".mess").html(e.getLangJson().CONFIRM_PASSWORD_WRONG)})),n(document).on("submit",".js_forgot__form",(function(e){e.preventDefault();var s=n(this),t=s.find('[name="email"]').val();n.ajax({url:"xm/api/requestcode",data:{email:t},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){s.find(".js-btn-spin").find(".--spin").show(),s.find(".js-btn-spin").attr("disabled",!0),s.find(".mess").html("")},statusCode:{200:function(e){console.log(e),n(".reset-password1").removeClass("active"),n(".reset-password2").addClass("active"),n(".reset-password2").find('[name="email"]').val(t),n(".reset-password2").find('[name="code"]').val("").focus(),n(".reset-password2").find('[name="password"]').val(""),n(".reset-password2").find('[name="confirmpassword"]').val(""),n(".reset-password2").find(".mess").html(""),s.find(".js-btn-spin").find(".--spin").hide(),s.find(".js-btn-spin").attr("disabled",!1)},404:function(n){s.find(".mess").html("Please again !"),s.find(".js-btn-spin").find(".--spin").hide(),s.find(".js-btn-spin").attr("disabled",!1)}},success:function(e){0==e.status?(n(".reset-password1").removeClass("active"),n(".reset-password2").addClass("active"),n(".reset-password2").find('[name="email"]').val(t),n(".reset-password2").find('[name="code"]').val("").focus(),n(".reset-password2").find('[name="password"]').val(""),n(".reset-password2").find('[name="confirmpassword"]').val(""),n(".reset-password2").find(".mess").html("")):s.find(".mess").html(e.message),s.find(".js-btn-spin").find(".--spin").hide(),s.find(".js-btn-spin").attr("disabled",!1)},error:function(n){}})})),n(document).on("submit",".js_forgot__form_code",(function(s){s.preventDefault();var t=n(this);t.find(".mess").html("");var i=t.find('[name="email"]').val(),a=t.find('[name="code"]').val().trim(),o=t.find('[name="password"]').val();o==t.find('[name="confirmpassword"]').val()?n.ajax({url:"xm/api/reset",data:{email:i,code:a,password:o},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){t.find(".js-btn-spin").find(".--spin").show(),t.find(".js-btn-spin").attr("disabled",!0),t.find(".mess").html("")},statusCode:{200:function(n){t.find(".mess").html(n.message),setTimeout((function(){window.location=location.href}),1e3),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},404:function(n){n.responseJSON&&(n=n.responseJSON),t.find(".mess").html(n.details),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)}},success:function(n){0==n.status?(t.find(".mess").html(n.message),setTimeout((function(){window.location=location.href}),1e3)):t.find(".mess").html(n.details),t.find(".js-btn-spin").find(".--spin").hide(),t.find(".js-btn-spin").attr("disabled",!1)},error:function(n){}}):t.find(".mess").html(e.getLangJson().CONFIRM_PASSWORD_WRONG)})),n(document).on("click",".js-btn-send-code",(function(e){e.preventDefault();var s=n(".js_forgot__form_code"),t=s.find('[name="email"]').val();n.ajax({url:"xm/api/requestcode",data:{email:t},type:"post",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},beforeSend:function(){s.find(".mess").html("")},statusCode:{200:function(n){s.find(".mess").html("Send Code success")}},error:function(n){}})}))}))}},e={};function s(t){if(e[t])return e[t].exports;var i=e[t]={id:t,loaded:!1,exports:{}};return n[t].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=n,s.x=n=>{},s.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),s.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},s.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),(()=>{var n={535:0},e=[[15665,532,848,261]],t=n=>{},i=(i,a)=>{for(var o,d,[r,f,l,m]=a,c=0,p=[];c<r.length;c++)d=r[c],s.o(n,d)&&n[d]&&p.push(n[d][0]),n[d]=0;for(o in f)s.o(f,o)&&(s.m[o]=f[o]);for(l&&l(s),i&&i(a);p.length;)p.shift()();return m&&e.push.apply(e,m),t()},a=self.webpackChunkxm=self.webpackChunkxm||[];function o(){for(var t,i=0;i<e.length;i++){for(var a=e[i],o=!0,d=1;d<a.length;d++){var r=a[d];0!==n[r]&&(o=!1)}o&&(e.splice(i--,1),t=s(s.s=a[0]))}return 0===e.length&&(s.x(),s.x=n=>{}),t}a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var d=s.x;s.x=()=>(s.x=d||(n=>{}),(t=o)())})(),s.x()})();